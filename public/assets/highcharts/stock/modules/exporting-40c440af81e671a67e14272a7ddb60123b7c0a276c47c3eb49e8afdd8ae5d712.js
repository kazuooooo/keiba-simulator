!function(t){var e,i=t.Chart,n=t.addEvent,o=t.removeEvent,s=t.createElement,r=t.discardElement,a=t.css,l=t.merge,h=t.each,c=t.extend,d=Math.max,p=document,u=window,g=t.isTouchDevice,f=t.Renderer.prototype.symbols,m=t.getOptions();c(m.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),m.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:g?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},m.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},t.post=function(t,e,i){var n,t=s("form",l({method:"post",action:t,enctype:"multipart/form-data"},i),{display:"none"},p.body);for(n in e)s("input",{type:"hidden",name:n,value:e[n]},null,t);t.submit(),r(t)},c(i.prototype,{getSVG:function(e){var i,n,o,a,d=this,u=l(d.options,e);return p.createElementNS||(p.createElementNS=function(t,e){return p.createElement(e)}),e=s("div",null,{position:"absolute",top:"-9999em",width:d.chartWidth+"px",height:d.chartHeight+"px"},p.body),n=d.renderTo.style.width,a=d.renderTo.style.height,n=u.exporting.sourceWidth||u.chart.width||/px$/.test(n)&&parseInt(n,10)||600,a=u.exporting.sourceHeight||u.chart.height||/px$/.test(a)&&parseInt(a,10)||400,c(u.chart,{animation:!1,renderTo:e,forExport:!0,width:n,height:a}),u.exporting.enabled=!1,u.series=[],h(d.series,function(t){o=l(t.options,{animation:!1,showCheckbox:!1,visible:t.visible}),o.isInternal||u.series.push(o)}),i=new t.Chart(u,d.callback),h(["xAxis","yAxis"],function(t){h(d[t],function(e,n){var o=i[t][n],s=e.getExtremes(),r=s.userMin,s=s.userMax;o&&(void 0!==r||void 0!==s)&&o.setExtremes(r,s,!0,!1)})}),n=i.container.innerHTML,u=null,i.destroy(),r(e),n=n.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g,"\xa0").replace(/&shy;/g,"\xad").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(t){return t.toLowerCase()}),n=n.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},exportChart:function(e,i){var e=e||{},n=this.options.exporting,n=this.getSVG(l({chart:{borderRadius:0}},n.chartOptions,i,{exporting:{sourceWidth:e.sourceWidth||n.sourceWidth,sourceHeight:e.sourceHeight||n.sourceHeight}})),e=l(this.options.exporting,e);t.post(e.url,{filename:e.filename||"chart",type:e.type,width:e.width||0,scale:e.scale||2,svg:n},e.formAttributes)},print:function(){var t=this,e=t.container,i=[],n=e.parentNode,o=p.body,s=o.childNodes;t.isPrinting||(t.isPrinting=!0,h(s,function(t,e){1===t.nodeType&&(i[e]=t.style.display,t.style.display="none")}),o.appendChild(e),u.focus(),u.print(),setTimeout(function(){n.appendChild(e),h(s,function(t,e){1===t.nodeType&&(t.style.display=i[e])}),t.isPrinting=!1},1e3))},contextMenu:function(t,e,i,r,l,p,u){var g,f,m,y=this,x=y.options.navigation,v=x.menuItemStyle,b=y.chartWidth,k=y.chartHeight,w="cache-"+t,S=y[w],A=d(l,p),P=function(e){y.pointer.inClass(e.target,t)||f()};S||(y[w]=S=s("div",{className:t},{position:"absolute",zIndex:1e3,padding:A+"px"},y.container),g=s("div",null,c({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},x.menuStyle),S),f=function(){a(S,{display:"none"}),u&&u.setState(0),y.openMenu=!1},n(S,"mouseleave",function(){m=setTimeout(f,500)}),n(S,"mouseenter",function(){clearTimeout(m)}),n(document,"mouseup",P),n(y,"destroy",function(){o(document,"mouseup",P)}),h(e,function(t){if(t){var e=t.separator?s("hr",null,null,g):s("div",{onmouseover:function(){a(this,x.menuItemHoverStyle)},onmouseout:function(){a(this,v)},onclick:function(){f(),t.onclick.apply(y,arguments)},innerHTML:t.text||y.options.lang[t.textKey]},c({cursor:"pointer"},v),g);y.exportDivElements.push(e)}}),y.exportDivElements.push(g,S),y.exportMenuWidth=S.offsetWidth,y.exportMenuHeight=S.offsetHeight),e={display:"block"},i+y.exportMenuWidth>b?e.right=b-i-l-A+"px":e.left=i-A+"px",r+p+y.exportMenuHeight>k&&"top"!==u.alignOptions.verticalAlign?e.bottom=k-r-A+"px":e.top=r+p-A+"px",a(S,e),y.openMenu=!0},addButton:function(i){var n,o,s=this,r=s.renderer,a=l(s.options.navigation.buttonOptions,i),h=a.onclick,d=a.menuItems,p={stroke:a.symbolStroke,fill:a.symbolFill},u=a.symbolSize||12;if(s.btnCount||(s.btnCount=0),s.exportDivElements||(s.exportDivElements=[],s.exportSVGElements=[]),a.enabled!==!1){var g,f=a.theme,m=f.states,y=m&&m.hover,m=m&&m.select;delete f.states,h?g=function(){h.apply(s,arguments)}:d&&(g=function(){s.contextMenu(o.menuClassName,d,o.translateX,o.translateY,o.width,o.height,o),o.setState(2)}),a.text&&a.symbol?f.paddingLeft=t.pick(f.paddingLeft,25):a.text||c(f,{width:a.width,height:a.height,padding:0}),o=r.button(a.text,0,0,g,f,y,m).attr({title:s.options.lang[a._titleKey],"stroke-linecap":"round"}),o.menuClassName=i.menuClassName||"highcharts-menu-"+s.btnCount++,a.symbol&&(n=r.symbol(a.symbol,a.symbolX-u/2,a.symbolY-u/2,u,u).attr(c(p,{"stroke-width":a.symbolStrokeWidth||1,zIndex:1})).add(o)),o.add().align(c(a,{width:o.width,x:t.pick(a.x,e)}),!0,"spacingBox"),e+=(o.width+a.buttonSpacing)*("right"===a.align?-1:1),s.exportSVGElements.push(o,n)}},destroyExport:function(t){var e,i,t=t.target;for(e=0;e<t.exportSVGElements.length;e++)(i=t.exportSVGElements[e])&&(i.onclick=i.ontouchstart=null,t.exportSVGElements[e]=i.destroy());for(e=0;e<t.exportDivElements.length;e++)i=t.exportDivElements[e],o(i,"mouseleave"),t.exportDivElements[e]=i.onmouseout=i.onmouseover=i.ontouchstart=i.onclick=null,r(i)}}),f.menu=function(t,e,i,n){return["M",t,e+2.5,"L",t+i,e+2.5,"M",t,e+n/2+.5,"L",t+i,e+n/2+.5,"M",t,e+n-1.5,"L",t+i,e+n-1.5]},i.prototype.callbacks.push(function(t){var i,o=t.options.exporting,s=o.buttons;if(e=0,o.enabled!==!1){for(i in s)t.addButton(s[i]);n(t,"destroy",t.destroyExport)}})}(Highcharts);