(function(){ActiveAdmin.modal_dialog=function(t,e,i){var n,s,o,r,a,l,h,c,d,u,p,f;r='<form id="dialog_confirm" title="'+t+'"><ul>';for(l in e){if(u=e[l],/^(datepicker|checkbox|text)$/.test(u))f="input";else if("textarea"===u)f="textarea";else{if(!$.isArray(u))throw new Error("Unsupported input type: {"+l+": "+u+"}");c=["select","option",u,""],f=c[0],s=c[1],h=c[2],u=c[3]}a="datepicker"===u?u:"",r+="<li>\n<label>"+(l.charAt(0).toUpperCase()+l.slice(1))+"</label>\n<"+f+' name="'+l+'" class="'+a+'" type="'+u+'">'+(h?function(){var t,e,i;for(i=[],t=0,e=h.length;e>t;t++)p=h[t],n=$("<"+s+"/>"),$.isArray(p)?n.text(p[0]).val(p[1]):n.text(p),i.push(n.wrap("<div>").parent().html());return i}().join(""):"")+("</"+f+">")+"</li>",d=[],f=d[0],s=d[1],h=d[2],u=d[3],a=d[4]}return r+="</ul></form>",o=$(r).appendTo("body"),$("body").trigger("modal_dialog:before_open",[o]),o.dialog({modal:!0,open:function(t,e){return $("body").trigger("modal_dialog:after_open",[o])},dialogClass:"active_admin_dialog",buttons:{OK:function(){return i($(this).serializeObject()),$(this).dialog("close")},Cancel:function(){return $(this).dialog("close").remove()}}})}}).call(this);