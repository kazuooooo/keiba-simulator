(function(){ActiveAdmin.DropdownMenu=function(){function t(t,e){var i;this.options=t,this.element=e,this.$element=$(this.element),i={fadeInDuration:20,fadeOutDuration:100,onClickActionItemCallback:null},this.options=$.extend(i,this.options),this.isOpen=!1,this.$menuButton=this.$element.find(".dropdown_menu_button"),this.$menuList=this.$element.find(".dropdown_menu_list_wrapper"),this._buildMenuList(),this._bind()}return t.prototype.open=function(){return this.isOpen=!0,this.$menuList.fadeIn(this.options.fadeInDuration),this._position(),this},t.prototype.close=function(){return this.isOpen=!1,this.$menuList.fadeOut(this.options.fadeOutDuration),this},t.prototype.destroy=function(){return this.$element.unbind(),this.$element=null,this},t.prototype.isDisabled=function(){return this.$menuButton.hasClass("disabled")},t.prototype.disable=function(){return this.$menuButton.addClass("disabled")},t.prototype.enable=function(){return this.$menuButton.removeClass("disabled")},t.prototype.option=function(t,e){return $.isPlainObject(t)?this.options=$.extend(!0,this.options,t):null!=t?this.options[t]:this.options[t]=e},t.prototype._buildMenuList=function(){return this.$nipple=$('<div class="dropdown_menu_nipple"></div>'),this.$menuList.prepend(this.$nipple),this.$menuList.hide()},t.prototype._bind=function(){return $("body").click(function(t){return function(){return t.isOpen?t.close():void 0}}(this)),this.$menuButton.click(function(t){return function(){return t.isDisabled()||(t.isOpen?t.close():t.open()),!1}}(this))},t.prototype._position=function(){var t,e,i,n,s,o,r,a;return this.$menuList.css("top",this.$menuButton.position().top+this.$menuButton.outerHeight()+10),e=this.$menuButton.position().left,t=this.$menuButton.outerWidth()/2,i=e+2*t,o=this.$menuList.outerWidth()/2,r=this.$nipple.outerWidth()/2,a=$(window).width(),n=e+t-o,s=e+t+o,0>n?(this.$menuList.css("left",e),this.$nipple.css("left",t-r)):s>a?(this.$menuList.css("right",a-i),this.$nipple.css("right",t-r)):(this.$menuList.css("left",n),this.$nipple.css("left",o-r))},t}(),$.widget.bridge("aaDropdownMenu",ActiveAdmin.DropdownMenu),$(document).on("ready page:load",function(){return $(".dropdown_menu").aaDropdownMenu()})}).call(this);